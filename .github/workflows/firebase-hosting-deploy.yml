name: Deploy to Firebase Hosting

on:
  push:
    branches:
      - main # ãƒ‡ãƒ—ãƒ­ã‚¤ã‚’ãƒˆãƒªã‚¬ãƒ¼ã™ã‚‹ãƒ–ãƒ©ãƒ³ãƒå (ä¾‹: main, master) ã‚’æŒ‡å®š

jobs:
      build_and_deploy:
        runs-on: ubuntu-latest
        steps:
          - name: Checkout code
            uses: actions/checkout@v4

          # ğŸš¨ Reactãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«å¿…é ˆã®ãƒ“ãƒ«ãƒ‰ã‚¹ãƒ†ãƒƒãƒ— ğŸš¨
          - name: Setup Node.js
            uses: actions/setup-node@v4
            with:
              node-version: '20' # ã‚ãªãŸã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®Nodeãƒãƒ¼ã‚¸ãƒ§ãƒ³ã«åˆã‚ã›ã‚‹
              
          - name: Install Dependencies
            run: npm ci

          - name: Build project
            run: npm run build # Reactã®ãƒ“ãƒ«ãƒ‰ã‚³ãƒãƒ³ãƒ‰

          # ãƒ‡ãƒ—ãƒ­ã‚¤ã‚¹ãƒ†ãƒƒãƒ—
          - name: Deploy to Firebase
            uses: FirebaseExtended/action-hosting-deploy@v0
            with:
              repoToken: '${{ secrets.GITHUB_TOKEN }}'
              # â˜… ä¿®æ­£æ¸ˆã¿: GitHub Secretåã«åˆã‚ã›ã‚‹
              firebaseServiceAccount: '${{ secrets.FIREBASE_TOKEN }}' 
              projectId: 'project-2025-b92e7'
              channelId: 'live'

  
              


